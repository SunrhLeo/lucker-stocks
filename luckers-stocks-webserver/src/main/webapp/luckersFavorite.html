<!DOCTYPE HTML>
<html>
<head>
<title>Luckers推荐</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Gretong Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- Bootstrap Core CSS -->
<link href="css/bootstrap.min.css" rel='stylesheet' type='text/css' />
<!-- Custom CSS -->
<link href="css/style.css" rel='stylesheet' type='text/css' />
<!-- Graph CSS -->
<link href="css/font-awesome.css" rel="stylesheet"> 
<!-- jQuery -->
<link href='http://fonts.useso.com/css?family=Roboto:700,500,300,100italic,100,400' rel='stylesheet' type='text/css'/>
<link href='http://fonts.useso.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
<!-- lined-icons -->
<link rel="stylesheet" href="css/icon-font.min.css" type='text/css' />
	<link rel="stylesheet" href="css/icon-font.min.css" type='text/css' />
	<!-- TABLE STYLES-->
	<link href="assets/js/dataTables/dataTables.bootstrap.css" rel="stylesheet" />
<script src="js/simpleCart.min.js"> </script>
<script src="js/echarts.js"></script>
<script src="js/serial.js"></script>	
<script src="js/light.js"></script>	
<!-- //lined-icons -->
<script src="js/jquery-1.10.2.min.js"></script>
   <!--pie-chart--->
<script src="js/pie-chart.js" type="text/javascript"></script>
 <script type="text/javascript">
        $(document).ready(function () {
            $('#demo-pie-1').pieChart({
                barColor: '#3bb2d0',
                trackColor: '#eee',
                lineCap: 'round',
                lineWidth: 8,
                onStep: function (from, to, percent) {
                    $(this.element).find('.pie-value').text(Math.round(percent) + '%');
                }
            });

            $('#demo-pie-2').pieChart({
                barColor: '#fbb03b',
                trackColor: '#eee',
                lineCap: 'butt',
                lineWidth: 8,
                onStep: function (from, to, percent) {
                    $(this.element).find('.pie-value').text(Math.round(percent) + '%');
                }
            });

            $('#demo-pie-3').pieChart({
                barColor: '#ed6498',
                trackColor: '#eee',
                lineCap: 'square',
                lineWidth: 8,
                onStep: function (from, to, percent) {
                    $(this.element).find('.pie-value').text(Math.round(percent) + '%');
                }
            });

           
        });
    </script>
	<style type="text/css">
		/*
     *  Usage:
     *
          <div class="sk-wave">
            <div class="sk-rect sk-rect1"></div>
            <div class="sk-rect sk-rect2"></div>
            <div class="sk-rect sk-rect3"></div>
            <div class="sk-rect sk-rect4"></div>
            <div class="sk-rect sk-rect5"></div>
          </div>
     *
     */
		.sk-wave {
			margin: 200px 100px ;
			width: 1280px;
			height: 100px;
			text-align: center;
			font-size: 10px; }
		.sk-wave .sk-rect {
			background-color: #333;
			height: 100%;
			width: 6px;
			display: inline-block;
			-webkit-animation: sk-waveStretchDelay 1.2s infinite ease-in-out;
			animation: sk-waveStretchDelay 1.2s infinite ease-in-out; }
		.sk-wave .sk-rect1 {
			-webkit-animation-delay: -1.2s;
			animation-delay: -1.2s; }
		.sk-wave .sk-rect2 {
			-webkit-animation-delay: -1.1s;
			animation-delay: -1.1s; }
		.sk-wave .sk-rect3 {
			-webkit-animation-delay: -1s;
			animation-delay: -1s; }
		.sk-wave .sk-rect4 {
			-webkit-animation-delay: -0.9s;
			animation-delay: -0.9s; }
		.sk-wave .sk-rect5 {
			-webkit-animation-delay: -0.8s;
			animation-delay: -0.8s; }

		@-webkit-keyframes sk-waveStretchDelay {
			0%, 40%, 100% {
				-webkit-transform: scaleY(0.4);
				transform: scaleY(0.4); }
			20% {
				-webkit-transform: scaleY(1);
				transform: scaleY(1); } }

		@keyframes sk-waveStretchDelay {
			0%, 40%, 100% {
				-webkit-transform: scaleY(0.4);
				transform: scaleY(0.4); }
			20% {
				-webkit-transform: scaleY(1);
				transform: scaleY(1); } }

	</style>
</head> 
<body onload="getParam1();getFavorite()">
<div style="width: 1280px;height: 720px;background-color: #fff" id="loading">
	<div class="sk-wave">
		<div class="sk-rect sk-rect1"></div>
		<div class="sk-rect sk-rect2"></div>
		<div class="sk-rect sk-rect3"></div>
		<div class="sk-rect sk-rect4"></div>
		<div class="sk-rect sk-rect5"></div>

	</div>

</div>


   <div class="page-container">
   <!--/content-inner-->
	<div class="left-content">
		<div class="inner-content" style="display: none" id="timeToShow">
		<!-- header-starts -->
		   <div class="header-section">
			   <!-- top_bg -->
			   <div class="top_bg">

				   <div class="header_top">
					   <div class="top_right">
						   <ul>
							   |
							   <li>Luckers推荐</li>
							   |
						   </ul>
					   </div>
					   <div class="top_left">
						   <div class="login">
							   <div id="loginContainer"><span id="username" style="color: white;margin-right:12px"></span><a onclick="logout()" id="logoutButton"  style="float: right;cursor:pointer" ><span>注销</span></a>
							   </div>
						   </div>
					   </div>

					   <div class="clearfix"> </div>
				   </div>
			   </div>
			   <div class="clearfix"></div>
			   <!-- /top_bg -->
		   </div>
			<div class="content">
<div class="women_main">
	<!-- start content -->
   <div class="w_content">

		<!-- grids_of_4 -->
	   <div class="tablepanel-body">
		   <div class="table-responsive">
			   <table class="table table-striped table-bordered table-hover" id="dataTables-example">
				   <thead>
				   <tr>
					   <th>股票评分</th>
					   <th>股票编号</th>
					   <th>股票名称</th>
					   <th>所属行业</th>
				   </tr>
				   </thead>
				   <tbody id="recommendRow">
				   <!--<tr class="odd gradeX">-->
				   <!--<td>Trident</td>-->
				   <!--<td>sh600019</td>-->
				   <!--<td>2016</td>-->
				   <!--<td>2016</td>-->
				   <!--<td>2016</td>-->
				   <!--<td>2016</td>-->
				   <!--</tr>-->
				   </tbody>
			   </table>
		   </div>

	   </div>


	   <div>
	   <div id="stockName" style="font-size: 20px"></div>
	   <div id="radaar" style="width: 400px;height: 400px;float: left"></div>
	   <div id="score" style="width: 400px;height: 400px ; float: right"> </div>
	   </div>

		
		
		<!-- end grids_of_4 -->
		
		
	</div>
   <div class="clearfix"></div>
	<!-- end content -->

	<div class="footer">
		<!--<div id="K" style="width: 400px; height: 400px"></div>-->
		<a id="anchor_scroll" href="#head" style="display:none">点击这里本页跳转</a>
		<div class="clearfix"> </div>
		<p>Copyright &copy; LuckerStock.</p>
	</div>
</div>

</div>
			<!--content-->
		</div>
</div>
				<!--//content-inner-->
			<!--/sidebar-menu-->
				<div class="sidebar-menu">
					<header class="logo1">
						<a href="#" class="sidebar-icon"> <span class="fa fa-bars"></span> </a> 
					</header>
						<div style="border-top:1px ridge rgba(255, 255, 255, 0.15)"></div>
                           <div class="menu">
							   <ul id="menu" >
								   <li><a onclick="jumpToRed()"><i class="fa fa-tachometer"></i> <span>首页</span></a></li>
								   <li id="menu-academico" ><a href="#" onclick="jumpToMyStocks()"><i class="fa fa-table"></i> <span>个股详情</span> <span class="fa fa-angle-right" style="float: right"></span></a>
									   <ul id="menu-academico-sub" >
										   <li id="menu-academico-avaliacoes" ><a onclick="jumpToMyStocks()">我的股票</a></li>
										   <li id="menu-academico-boletim" ><a onclick="jumpToFavorites()">Luckers推荐</a></li>
									   </ul>
								   </li>
								   <li id="menu-academico" ><a onclick="jumpToAllStocks()"><i class="fa fa-file-text-o"></i> <span>大盘走势</span></a></li>
								   <li><a onclick="jumpToInvest()"><i class="lnr lnr-pencil"></i> <span>投资策略</span></a></li>
							   </ul>
								</div>
							  </div>
							  <div class="clearfix"></div>	
							</div>
							<script>
							var toggle = true;
										
							$(".sidebar-icon").click(function() {                
							  if (toggle)
							  {
								$(".page-container").addClass("sidebar-collapsed").removeClass("sidebar-collapsed-back");
								$("#menu span").css({"position":"absolute"});
							  }
							  else
							  {
								$(".page-container").removeClass("sidebar-collapsed").addClass("sidebar-collapsed-back");
								setTimeout(function() {
								  $("#menu span").css({"position":"relative"});
								}, 400);
							  }
											
											toggle = !toggle;
										});
							</script>
<!--js -->
<script src="js/jquery.nicescroll.js"></script>
<script src="js/scripts.js"></script>
<!-- Bootstrap Core JavaScript -->
   <script src="js/bootstrap.min.js"></script>
   <!-- /Bootstrap Core JavaScript -->
   <!-- real-time -->
<script language="javascript" type="text/javascript" src="js/jquery.flot.js"></script>

<!-- /real-time -->
<script src="js/jquery.fn.gantt.js"></script>
<script>
	var parm1;
	var idList=[];
	var nameList=[];
	var nowStockId;
	var eachStock=[];
	var wholeStock=[];
	var scores=[];
	var stockIdList=[];

	function getParam1()
	{
//		   alert("init name");
		var url=location.href;
		var tmp1=url.split("?")[1];
		var tmp2=tmp1.split("&")[0];
		var tmp3=tmp2.split("=")[1];
		var tmp4=tmp3.split("#")[0];
		parm1=tmp4;
		var divshow = document.getElementById("username");
//		alert("welcome! "+parm1);
		divshow.innerHTML="Hello! "+parm1;

	}

	function getFavorite() {
		$.getJSON("recommend", function (JSON) {
			$.each(JSON, function (idx, item) {
				eachStock[0] = item.score;
				scores[idx] = item.score;
				eachStock[1] = item.stockId;
				eachStock[2] = item.stockName;
				eachStock[3] = item.career;
				wholeStock[idx] = eachStock;
				idList[idx] = item.stockId;
				nameList[idx] = item.stockName;

//				   alert(stocks[idx]);
				var row = document.createElement("tr"); //创建行

				var td1 = document.createElement("td"); //创建单元格
				var td2 = document.createElement("td"); //创建单元格
				var td3 = document.createElement("td"); //创建单元格
				var td4 = document.createElement("td"); //创建单元格
//			var td5 = document.createElement("td"); //创建单元格
//			var td6 = document.createElement("td"); //创建单元格


				td1.appendChild(document.createTextNode(eachStock[0]));
				td2.appendChild(document.createTextNode(eachStock[1]));
				td3.appendChild(document.createTextNode(eachStock[2]));
				td4.appendChild(document.createTextNode(eachStock[3]));
//			td5.appendChild(document.createTextNode(eachStock[4]));
//			td6.appendChild(document.createTextNode(eachStock[5]));


				row.appendChild(td1);
				row.appendChild(td2);
				row.appendChild(td3);
				row.appendChild(td4);
//			row.appendChild(td5);
//			row.appendChild(td6);


				row.onclick = function () {
					getDetails(row.cells[0].innerText, row.cells[2].innerHTML,row.cells[1].innerHTML);
				}

				document.getElementById("recommendRow").appendChild(row); //将行添加到<tbody>中

			});
			$('#dataTables-example').dataTable();
//			alert("table is ready!");

			finishLoading();
		});


	}

</script>
<script>
	function getDetails(socre,FstockName,stockID){

//		alert("check the details!");
		var stockname = document.getElementById("stockName");
		stockname.innerHTML=FstockName;


		var myChart = echarts.init(document.getElementById('score'));

		option = {
			tooltip : {
				formatter: "{a} <br/>{b} : {c}%"
			},
			toolbox: {
			},
			series: [
				{
					name: '评分',
					type: 'gauge',
					radius: '55%',
					center: ['40%','30%'],
					detail: {formatter:'{value}'},
					data: [{value: socre, name: '股票评分'}]
				}
			]
		};
		myChart.setOption(option);

		var radarData=[];
		$.getJSON("score", {id:stockID},function (JSON) {
			radarData[0] = JSON.benefit;
			radarData[1] = JSON.market;
			radarData[2] = JSON.prospect;
			radarData[3] = JSON.consistency;
			radarData[4] = JSON.risk;

			var myChart = echarts.init(document.getElementById('radaar'));
			option = {
				title: {
				},
				tooltip: {},
				legend: {
					data: []
				},
				radar: {
					shape: 'circle',
					indicator: [
						{name: '盈利性', max: 5},
						{name: '市场性', max: 5},
						{name: '前景性', max: 5},
						{name: '稳定性', max: 5},
						{name: '安全性', max: 5}
					],
					nameGap: 5,
					radius: 90,
					center: ['60%','30%']


				},
				series: [{
					name: '',
					type: 'radar',
					itemStyle: {normal: {areaStyle: {type: 'default'}}},

					data: [

						{
							value: radarData,
							label: {
								normal: {
									show: true,
									textStyle: {
										color: '#232323',
										fontWeight: 'bolder',
										fontSize: 14
									}
								}
							}
						}
					]
				}]
			};
			// 使用刚指定的配置项和数据显示图表。
			myChart.setOption(option);
		});

	}
</script>


   <script>

	   function finishLoading(){
//		   alert("finishing loading!");
		   var loadingPart = document.getElementById("loading");
		   var showPart = document.getElementById("timeToShow");
		   showPart.style.display="";
		   loadingPart.style.display="none";

	   }
	   function jumpToRed(){
//		   alert("parm1 is "+parm1);
		   window.location.href="red.html?username="+parm1;
	   }

	   function jumpToMyStocks(){
//					alert("parm1 is "+parm1);
		   window.location.href="myStock.html?username="+parm1;
	   }

	   function jumpToAllStocks(){
		   window.location.href="allStocks.html?username="+parm1;
	   }

	   function jumpToFavorites(){
		   window.location.href="luckersFavorite.html?username="+parm1;
	   }

	   function jumpToIndus(){
		   window.location.href="industry.html?username="+parm1;
	   }

	   function jumpToInvest(){
		   window.location.href="investment.html?username="+parm1;
	   }
	   function logout(){
		   window.location.href="index.html";
	   }
   </script>
		   <script src="js/menu_jquery.js"></script>
   <script src="assets/js/jquery-1.10.2.js"></script>
   <!-- Bootstrap Js -->
   <script src="assets/js/bootstrap.min.js"></script>
   <!-- Metis Menu Js -->
   <script src="assets/js/jquery.metisMenu.js"></script>
   <!-- DATA TABLE SCRIPTS -->
   <script src="assets/js/dataTables/jquery.dataTables.js"></script>
   <script src="assets/js/dataTables/dataTables.bootstrap.js"></script>
</body>
</html>