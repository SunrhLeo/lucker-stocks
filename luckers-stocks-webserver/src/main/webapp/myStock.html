<!DOCTYPE HTML>
<html>
<head>
<title>我的股票</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Gretong Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- Bootstrap Core CSS -->
<link href="css/bootstrap.min.css" rel='stylesheet' type='text/css' />
<!-- Custom CSS -->
<link href="css/style.css" rel='stylesheet' type='text/css' />
<!-- Graph CSS -->
<link href="css/font-awesome.css" rel="stylesheet"> 
<!-- jQuery -->
<link href='http://fonts.useso.com/css?family=Roboto:700,500,300,100italic,100,400' rel='stylesheet' type='text/css'/>
<link href='http://fonts.useso.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
<!-- lined-icons -->
<link rel="stylesheet" href="css/icon-font.min.css" type='text/css' />
	<!-- TABLE STYLES-->
	<link href="assets/js/dataTables/dataTables.bootstrap.css" rel="stylesheet" />
<script src="js/simpleCart.min.js"> </script>
<script src="js/echarts.js"></script>
<script src="js/serial.js"></script>	
<script src="js/light.js"></script>
	<script src="js/amcharts.js"></script>

	<script type="text/javascript" src="js/json2.js"></script>
	<!-- //lined-icons -->
<script src="js/jquery-1.10.2.min.js"></script>
   <!--pie-chart--->
<script src="js/pie-chart.js" type="text/javascript"></script>
 <script type="text/javascript">

        $(document).ready(function () {
            $('#demo-pie-1').pieChart({
                barColor: '#3bb2d0',
                trackColor: '#eee',
                lineCap: 'round',
                lineWidth: 8,
                onStep: function (from, to, percent) {
                    $(this.element).find('.pie-value').text(Math.round(percent) + '%');
                }
            });

            $('#demo-pie-2').pieChart({
                barColor: '#fbb03b',
                trackColor: '#eee',
                lineCap: 'butt',
                lineWidth: 8,
                onStep: function (from, to, percent) {
                    $(this.element).find('.pie-value').text(Math.round(percent) + '%');
                }
            });

            $('#demo-pie-3').pieChart({
                barColor: '#ed6498',
                trackColor: '#eee',
                lineCap: 'square',
                lineWidth: 8,
                onStep: function (from, to, percent) {
                    $(this.element).find('.pie-value').text(Math.round(percent) + '%');
                }
            });

           
        });

    </script>
	<style type="text/css">
		/*
     *  Usage:
     *
          <div class="sk-wave">
            <div class="sk-rect sk-rect1"></div>
            <div class="sk-rect sk-rect2"></div>
            <div class="sk-rect sk-rect3"></div>
            <div class="sk-rect sk-rect4"></div>
            <div class="sk-rect sk-rect5"></div>
          </div>
     *
     */
		.sk-wave {
			margin: 200px 100px ;
			width: 1280px;
			height: 100px;
			text-align: center;
			font-size: 10px; }
		.sk-wave .sk-rect {
			background-color: #333;
			height: 100%;
			width: 6px;
			display: inline-block;
			-webkit-animation: sk-waveStretchDelay 1.2s infinite ease-in-out;
			animation: sk-waveStretchDelay 1.2s infinite ease-in-out; }
		.sk-wave .sk-rect1 {
			-webkit-animation-delay: -1.2s;
			animation-delay: -1.2s; }
		.sk-wave .sk-rect2 {
			-webkit-animation-delay: -1.1s;
			animation-delay: -1.1s; }
		.sk-wave .sk-rect3 {
			-webkit-animation-delay: -1s;
			animation-delay: -1s; }
		.sk-wave .sk-rect4 {
			-webkit-animation-delay: -0.9s;
			animation-delay: -0.9s; }
		.sk-wave .sk-rect5 {
			-webkit-animation-delay: -0.8s;
			animation-delay: -0.8s; }

		@-webkit-keyframes sk-waveStretchDelay {
			0%, 40%, 100% {
				-webkit-transform: scaleY(0.4);
				transform: scaleY(0.4); }
			20% {
				-webkit-transform: scaleY(1);
				transform: scaleY(1); } }

		@keyframes sk-waveStretchDelay {
			0%, 40%, 100% {
				-webkit-transform: scaleY(0.4);
				transform: scaleY(0.4); }
			20% {
				-webkit-transform: scaleY(1);
				transform: scaleY(1); } }

	</style>
</head> 
<body onload="getParam1();initTable();initHoverButton()">

<div style="width: 1280px;height: 720px;background-color: #fff" id="loading">
<div class="sk-wave">
	<div class="sk-rect sk-rect1"></div>
	<div class="sk-rect sk-rect2"></div>
	<div class="sk-rect sk-rect3"></div>
	<div class="sk-rect sk-rect4"></div>
	<div class="sk-rect sk-rect5"></div>

</div>

</div>

   <div class="page-container" >

   <!--/content-inner-->
	<div class="left-content">

		<div class="inner-content" style="display: none" id="timeToShow">
		<!-- header-starts -->
		   <div class="header-section">
			   <!-- top_bg -->
			   <div class="top_bg">

				   <div class="header_top">
					   <div class="top_right">
						   <ul>
							   |
							   <li>我的股票</li>
							   |

						   </ul>
					   </div>
					   <div class="top_left">
						   <div class="login">
							   <div id="loginContainer"><span id="username" style="color: white;margin-right:12px"></span><a onclick="logout()" id="logoutButton"  style="float: right;cursor:pointer" ><span>注销</span></a>
								   </div>
						   </div>
					   </div>
					   <div class="clearfix"> </div>
				   </div>
			   </div>
			   </div>
			   <div class="clearfix"></div>
			   <!-- /top_bg -->
		   <div class="monthly-grid" style="padding: 0.8em 1em 1em">
			   <div class="search_form">
				   <div>
				   <input placeholder="请输入要查找的股票代码" id="stockSearch" type="text" style="width: 220px;float: left" >
				   <input type="button" value="查找" onclick="searchButton()">
				   </div>
			   </div>
			   <div class="panel panel-default" style="margin-top: 20px " id="topPart">
				   <div class="panel-title" style="margin-left: 2%">
					   我的收藏列表
				   </div>
				   <div class="tablepanel-body">
					   <div class="table-responsive">
						   <table class="table table-striped table-bordered table-hover" id="dataTables-example">
							   <thead>
							   <tr>
								   <th>股票编号</th>
								   <th>股票名称</th>
								   <th>所属行业</th>
								   <th>预测走势</th>
								   <th>最新价格</th>
								   <th>涨跌幅度</th>
							   </tr>
							   </thead>
							   <tbody id="stockRow">
							   <!--<tr class="odd gradeX">-->
								   <!--<td>Trident</td>-->
								   <!--<td>sh600019</td>-->
								   <!--<td>2016</td>-->
								   <!--<td>2016</td>-->
								   <!--<td>2016</td>-->
								   <!--<td>2016</td>-->
							   <!--</tr>-->
							   </tbody>
						   </table>
					   </div>

				   </div>
			   </div>
			   <div class="panel-title" id="KPart">
				   <br/>
				   <span>
					   <span id="stockName" style="font-size: 25px"></span>
					   <span id="stockCareer" style="font-size: 22px;margin-left: 30px"></span>
					   <span id="stockPrice" style="margin-left: 30px;font-size: 27px"></span>
					   <span id="stockRf" style="font-size: 15px;margin-left: 30px"></span>
					   </span>
			   </div>
		   </div>
		   <!-- //header-ends -->

		   <!--content-->
		   <div class="content">
			   <div class="monthly-grid">
				 <!--<h3 class="inner-tittle two">K线图</h3>-->
				  <span class="search_form" style="margin-left: 370px;margin-bottom: 10px">
					  <input type="button" value="日K" onclick="dayK()">
				   <input type="button" value="周K" onclick="weekK()">
				   <input type="button" value="月K" onclick="monthK()"></span>
				   <span style="margin-bottom: 10px;margin-left: 160px"><input class="deleteStockButton" id="ifDelete" type="button" value="取消收藏"> </span>
				   <div class="panel-body">
					   <!-- status -->
					   <div class="gantt" style="margin-top: 5px">
						   <div align="center" id="K" style="width: 100%;height: 565px; margin-top: 5px"></div>
					   </div>
					   <!-- status -->
				   </div>
				   </div>
			   <!--//area-->

			   <div class="panel panel-primary" style="width: 100%" id="Text">
				   <div class="panel-heading">Luckers分析(根据K线图走势)</div>
				   <div class="panel-body ont"><p id="stockText" style="font-size: 18px">
					   这里是股票分析
				   </p></div>
			   </div>

			   <div class="monthly-grid" id="radarPart" style="margin-top: 20px">
				   <div class="middle-content" style="width:100%; height: 310px">
					   <div id="radaaar"style="width: 420px ;height: 300px;float: left"></div>
					   <div id="pieSpace" style="width: 420px;height: 300px;float: right"></div>
				   </div>
			   </div>

			   <!--<div class="content-top">-->
				   <!--<div class="col-md-6 content-top-lft">-->
					   <!--<div class="panel panel-widget">-->
						   <!--<div class="panel-title">-->

						   <!--</div>-->
					   <!--</div>-->
				   <!--</div>-->
				   <!--<div class="clearfix"> </div>-->
			   <!--</div>-->

			   <div class="monthly-grid" id="Compare">
				   <div class="middle-content">
					   <div id="withDaPan" style="width: 1000px ;height: 400px"></div>
				   </div>
			   </div>

			   <!-- start content_slider -->
				   <!--<div class="owl-carousel text-center">-->
				   <!--</div>-->
				   <script type="text/javascript">


				   </script>

				   <!--//sreen-gallery-cursual---->
				   <!-- requried-jsfiles-for owl -->
				   <link href="css/owl.carousel.css" rel="stylesheet">
				   <script src="js/owl.carousel.js"></script>
				   <!-- //requried-jsfiles-for owl -->

			   <div class="clearfix"></div>

			   <!--悬浮按钮-->
			   <div style="position: fixed;top: 500px;right: 13px" class="hoverButton" id="hoverButtons">
				   <input id="one" type="button" value="股票列表" onclick="toTable()" > <br/>
				   <input id="two" type="button" value="K线图" onclick="toK()"> <br/>
				   <input id="six" type="button" value="文字分析" onclick="toText()"> <br/>
				   <input id="three" type="button" value="评分" onclick="toRadar()"> <br/>
				   <input id="four" type="button" value="大盘对比" onclick="toCompare()"> <br/>
				   <input id="five" type="button" value="新闻列表" onclick="toNews()">
			   </div>
               <script>
				   function initHoverButton(){
					   var buttonList=document.getElementById('hoverButtons');
					   var oneB=document.getElementById('one');
					   var twoB=document.getElementById('two');
					   var threeB=document.getElementById('three');
					   var fourB=document.getElementById('four');
					   var fiveB=document.getElementById('five');
					   var sixB=document.getElementById('six');

					   var listB=[];
					   listB[0]=oneB;
					   listB[1]=twoB;
					   listB[2]=threeB;
					   listB[3]=fourB;
					   listB[4]=fiveB;
					   listB[5]=sixB;
					   for(var a=0;a<listB.length;a++){
						   listB[a].onmouseover=function(){
//						   alert("on!");
						   for(var i=0;i<listB.length;i++){
							   listB[i].className="hoverButtonList";
//							   alert("add!");
						   }
						   buttonList.className="";

					   }
						   listB[a].onmouseout=function(){
//						   alert("out!");
						   buttonList.className="hoverButton";
						   for(var i=0;i<listB.length;i++){
							   listB[i].className="";
//							   alert("remove!");
						   }
					   }}


				   }

               </script>



			   <!--//area-->
			   <div class="fo-top-di" id="newsPart">
				   <div class="foot-top">
					   <div class="panel-title">
						   新闻资讯
					   </div>
					   <div class="clearfix"> </div>
					   <div class="clearfix"> </div>
					   <div id="sss" style="margin-left: 17px;width:100%;" class="news_form">
					   </div>
				   </div>
				   <div class="footer">
					   <!--<div id="K" style="width: 400px; height: 400px"></div>-->
					   <a id="anchor_scroll" href="#KPart" style="display:none">点击这里本页跳转</a>
					   <a id="Top" href="#topPart" style="display:none">点击这里本页跳转</a>
					   <a id="Kline" href="#KPart" style="display:none">点击这里本页跳转</a>
					   <a id="toText" href="#Text" style="display:none">点击这里本页跳转</a>
					   <a id="toCompare" href="#Compare" style="display:none">点击这里本页跳转</a>
					   <a id="Radarhref" href="#radarPart" style="display:none">点击这里本页跳转</a>
					   <a id="News" href="#newsPart" style="display:none">点击这里本页跳转</a>

					   <div class="clearfix"> </div>
					   <p>Copyright &copy; LuckerStock.</p>
				   </div>
			   </div>
		   </div>


		   <!--content-->
	   </div>
	   </div>
	   <!--//content-inner-->
	   <!--/sidebar-menu-->
   <div class="sidebar-menu">
	   <header class="logo1">
		   <a href="#" class="sidebar-icon"> <span class="fa fa-bars"></span> </a>
	   </header>
	   <div style="border-top:1px ridge rgba(255, 255, 255, 0.15)"></div>
	   <div class="menu">
		   <ul id="menu" >
			   <li><a onclick="jumpToRed()"><i class="fa fa-tachometer"></i> <span>首页</span></a></li>
			   <li id="menu-academico" ><a href="#" onclick="jumpToMyStocks()"><i class="fa fa-table"></i> <span>个股详情</span> <span class="fa fa-angle-right" style="float: right"></span></a>
				   <ul id="menu-academico-sub" >
					   <li id="menu-academico-avaliacoes" ><a onclick="jumpToMyStocks()">我的股票</a></li>
					   <li id="menu-academico-boletim" ><a onclick="jumpToFavorites()">Luckers推荐</a></li>
				   </ul>
			   </li>
			   <li id="menu-academico" ><a onclick="jumpToAllStocks()"><i class="fa fa-file-text-o"></i> <span>大盘走势</span></a></li>
			   <li><a onclick="jumpToInvest()"><i class="lnr lnr-pencil"></i> <span>投资策略</span></a></li>
		   </ul>
	   </div>
   </div>
	   <div class="clearfix"></div>
   </div>

   <!--js -->
   <script src="js/jquery.nicescroll.js"></script>
   <script src="js/scripts.js"></script>
   <!-- Bootstrap Core JavaScript -->
   <script src="js/bootstrap.min.js"></script>
   <!-- /Bootstrap Core JavaScript -->
   <!-- real-time -->
   <script language="javascript" type="text/javascript" src="js/jquery.flot.js"></script>
   <!-- /real-time -->
   <script src="js/jquery.fn.gantt.js"></script>
   <script src="js/menu_jquery.js"></script>



   <script>
	   var toggle = true;

	   $(".sidebar-icon").click(function() {
		   if (toggle)
		   {
			   $(".page-container").addClass("sidebar-collapsed").removeClass("sidebar-collapsed-back");
			   $("#menu span").css({"position":"absolute"});
		   }
		   else
		   {
			   $(".page-container").removeClass("sidebar-collapsed").addClass("sidebar-collapsed-back");
			   setTimeout(function() {
				   $("#menu span").css({"position":"relative"});
			   }, 400);
		   }

		   toggle = !toggle;
	   });
   </script>
	   <script src="js/scripts.js"></script>
	   <!-- Bootstrap Core JavaScript -->
	   <script src="js/bootstrap.min.js"></script>
	   <script src="js/menu_jquery.js"></script>
   <script src="assets/js/jquery-1.10.2.js"></script>
   <!-- Bootstrap Js -->
   <script src="assets/js/bootstrap.min.js"></script>
   <!-- Metis Menu Js -->
   <script src="assets/js/jquery.metisMenu.js"></script>
   <!-- DATA TABLE SCRIPTS -->
   <script src="assets/js/dataTables/jquery.dataTables.js"></script>
   <script src="assets/js/dataTables/dataTables.bootstrap.js"></script>
   <!--<script>-->
	   <!--$(document).ready(function () {-->
   <!--$('#dataTables-example').dataTable();-->
   <!--});-->
   <!--</script>-->
   <!-- Custom Js -->
   <script src="assets/js/custom-scripts.js"></script>
	   <script>
		   //悬浮按钮的实现部分
		   function toTable(){
			   document.getElementById("Top").click();

		   }
		   function toK(){
			   document.getElementById("Kline").click();

		   }
		   function toRadar(){
			   document.getElementById("Radarhref").click();

		   }
		   function toNews(){
			   document.getElementById("News").click();

		   }
		   function toCompare(){
			   document.getElementById("toCompare").click();

		   }
		   function toText(){
			   document.getElementById("toText").click();

		   }



	   </script>

   <script>
	   var parm1;
	   var idList=[];
	   var nameList=[];
	   var nowStockId="sz300182";

	   function getParam1()
	   {
//		   alert("init name");
		   var url=location.href;
		   var tmp1=url.split("?")[1];
		   var tmp2=tmp1.split("&")[0];
		   var tmp3=tmp2.split("=")[1];
		   var tmp4=tmp3.split("#")[0];
		   parm1=tmp4;
		   var divshow = document.getElementById("username");
		   divshow.innerHTML="Hello! "+parm1;

	   }
	   function initTable()
	   {
//		   alert("start to init");
		   var eachStock=[];
		   var wholeStock=[];
		   var stocks=[];
		   var stockNameList=[];
		   var stockPrice=[];
		   var stockRf=[];
		   var remindList=[];

		   //用来init饼图
		   var careerList=[];
		   var pieCareer=[];
		   var pCareer=0;
		   var pieNum=[];
		   var pNum=0;
//		   alert("init Table tonight!!");
		   $.getJSON("user", {username: parm1},function (JSON) {
			   $.each(JSON, function (idx, item) {
				   eachStock[0] = item.stockId;
				   stocks[idx] = item.stockId;
				   eachStock[1] = item.stockName;
				   stockNameList[idx] = item.stockName;
				   eachStock[2] = item.career;
				   careerList[idx] = item.career;
				   eachStock[3] = item.forecast;
				   eachStock[4] = item.latestPrice;
				   stockPrice[idx] = item.latestPrice;
				   eachStock[5] = item.latestRf;
				   eachStock[6] = item.remindUD;
				   stockRf[idx] = item.latestRf;
				   wholeStock[idx] = eachStock;
				   idList[idx] = item.stockId;
				   nameList[idx] = item.stockName;

//				   alert(stocks[idx]);


				   var row = document.createElement("tr"); //创建行
				   row.remind=item.remindUD;
				   var td1 = document.createElement("td"); //创建单元格
				   var td2 = document.createElement("td"); //创建单元格
				   var td3 = document.createElement("td"); //创建单元格
				   var td4 = document.createElement("td"); //创建单元格
				   var td5 = document.createElement("td"); //创建单元格
				   var td6 = document.createElement("td"); //创建单元格


				   td1.appendChild(document.createTextNode(eachStock[0]));
				   td2.appendChild(document.createTextNode(eachStock[1]));
				   td3.appendChild(document.createTextNode(eachStock[2]));

//				   alert("stock3");
//				   alert(typeof(eachStock[3]));
				   if(typeof(eachStock[3]) == "undefined"){
					   eachStock[3]="看跌"
				   }

				   td4.appendChild(document.createTextNode(eachStock[3]));
				   td5.appendChild(document.createTextNode(eachStock[4]));
				   td6.appendChild(document.createTextNode(eachStock[5]));
				   if(eachStock[6]=="red"){
					   td6.style.color="#B52E31";
				   }else{
					   td6.style.color="#189a24";
				   }

				   row.appendChild(td1);
				   row.appendChild(td2);
				   row.appendChild(td3);
				   row.appendChild(td4);
				   row.appendChild(td5);
				   row.appendChild(td6);


				   row.onclick = function () {
					   searchStock(row.cells[0].innerText, row.cells[1].innerHTML,row.cells[4].innerText
					   ,row.cells[5].innerText,row.cells[2].innerText,row.remind);
				   }

				   document.getElementById("stockRow").appendChild(row); //将行添加到<tbody>中

			   });
			   $('#dataTables-example').dataTable();

			   nowStockId = stocks[0];


			   //饼图的数据准备
			   careerList.sort();
			   pieCareer[pCareer] = careerList[0];
			   pieNum[pNum] = 1;
			   for (var i = 0; i < careerList.length - 1; i++) {
				   if (careerList[i] == careerList[i + 1]) {
					   pieNum[pNum]++;

				   } else {
					   pCareer++;
					   pieCareer[pCareer] = careerList[i + 1];
					   pNum++;
					   pieNum[pNum] = 1;
				   }
			   }

			   var pieData = [];
			   for (var a = 0; a < pieCareer.length; a++) {
				   var tempStr = {value: pieNum[a], name: pieCareer[a]};
				   pieData[a] = tempStr;
			   }

			   //饼图数据准备完成




			   searchStock(nowStockId,stockNameList[0],stockPrice[0],stockRf[0],careerList[0]);

			   document.getElementById("Top").click();


			   var myChart = echarts.init(document.getElementById('pieSpace'));

			   option = {
				   title: {
					   text: '您收藏夹中的行业分布',
					   x: 'center'
				   },
				   tooltip: {
					   trigger: 'item',
					   formatter: "{a} <br/>{b} : {c} ({d}%)"
				   },
				   legend: {
					   orient: 'vertical',
					   left: 'left',
					   data: pieCareer
				   },
				   series: [
					   {
						   type: 'pie',
						   radius: '55%',
						   center: ['50%', '60%'],
						   data: pieData,
						   itemStyle: {
							   emphasis: {
								   shadowBlur: 10,
								   shadowOffsetX: 0,
								   shadowColor: 'rgba(0, 0, 0, 0.5)'
							   }
						   }
					   }
				   ]
			   };

//			   alert("start to init pie!");
			   myChart.setOption(option);


			   finishLoading();


		   });
		   news();


	   }
   </script>
   <script>

	   function finishLoading(){
//		   alert("finishing loading!");
		   var loadingPart = document.getElementById("loading");
		   var showPart = document.getElementById("timeToShow");
		   showPart.style.display="";
		   loadingPart.style.display="none";

	   }


	   function news(){
		   var newshow = document.getElementById("sss");
		   newshow.innerText="";
//						   alert("news "+nowStockId);
		   $.getJSON("news",{stockID:nowStockId}, function (JSON) {
			   $.each(JSON, function (idx, item) {
//				   alert(item.newsTitle);
				   var str = item.date+" "+" "+item.newsTitle;
				   var enter = document.createElement("br");
				   var linkTo = document.createElement("a");
				   linkTo.href=item.stockUrl;
				   linkTo.target="_blank";
				   linkTo.innerText=str;
				   newshow.appendChild(linkTo);
				   newshow.appendChild(enter);
			   });
		   });
	   }
	   function jumpToRed(){
//					alert("parm1 is "+parm1);
		   window.location.href="red.html?username="+parm1;
	   }

	   function jumpToMyStocks(){
//					alert("parm1 is "+parm1);
		   window.location.href="myStock.html?username="+parm1;
	   }

	   function jumpToAllStocks(){
		   window.location.href="allStocks.html?username="+parm1;
	   }

	   function jumpToFavorites(){
		   window.location.href="luckersFavorite.html?username="+parm1;
	   }

	   function jumpToIndus(){
		   window.location.href="industry.html?username="+parm1;
	   }

	   function jumpToInvest(){
		   window.location.href="investment.html?username="+parm1;
	   }
	   function logout(){
		   window.location.href="index.html";
	   }
   </script>
<script>

	function searchButton(){
		var stocksearch=document.getElementById("stockSearch");
		var nowId=stocksearch.value;
//		alert("search: "+nowId);
		var stockName="";
		var stockPrice="";
		var stockRf="";
		var stockCareer="";

		$.getJSON("confirm",{stockID: nowId}, function (JSON) {
			if(JSON.isOk=="false"){
				alert("请输入正确的股票代码！提示：股票编号前需加所在交易所的拼音缩写");
				stocksearch.value="";
			}else {
				$.getJSON("getName", {stockID: nowId}, function (JSON) {
					stockName = JSON.sName;
					stockPrice = JSON.latestPrice;
					stockRf = JSON.latestRf;
					stockCareer = JSON.career;
//					alert(stockPrice + stockRf + stockCareer);
					searchStock(nowId, stockName, stockPrice, stockRf, stockCareer);

				});
			}
		});


	}



	function searchStock(stockid,Kstockname,p,r,c,ud){


		nowStockId=stockid;
		var CDate=[];
		var CDP=[];
		var CS=[];

//		alert("engengeng");

		var Svalues = [];
		var SdateList=[];
		var SvolList=[];
		var stocknamePlace = document.getElementById("stockName");
		var stockPricePlace = document.getElementById("stockPrice");
		var stockRfPlace = document.getElementById("stockRf");
		var stockC= document.getElementById("stockCareer");
		if(ud=="green"){
//			alert("haha green!");
			stockPricePlace.style.color="#189a24";
			stockRfPlace.style.color="#189a24";
		}


			stocknamePlace.innerHTML = "--" + Kstockname + "--";

			stockPricePlace.innerHTML=p;
		    stockRfPlace.innerHTML=r;
		    stockC.innerHTML=c;

		$.getJSON("checkFavorite",{stockID: nowStockId,username:parm1}, function (JSON) {
			var deleteOrNot=document.getElementById("ifDelete");
			if(JSON.remind=="true"){
				deleteOrNot.value="取消收藏";
				deleteOrNot.className="deleteStockButton";
				deleteOrNot.onclick=function(){
//					alert("delete button!");
					$.getJSON("deleteStock",{stockID: nowStockId , username:parm1}, function (JSON) {
//						alert("delete remind! "+JSON.remind);
					});

					var tb =  document.getElementById("dataTables-example");

					var rowNum=tb.rows.length;


					window.location.reload();

//					for (var i=0;i<rowNum-1;i++)
//					{
//						tb.deleteRow(1);
////						alert("delete one!");
//					}
////					alert("delete is over!");
//					initTable();
				};

			}
//			if(JSON.remind=="false")
			else{
				deleteOrNot.value="加入收藏";
				deleteOrNot.className="addStockButton";
				deleteOrNot.onclick=function(){
//					alert("add button!");

					$.getJSON("addStock",{stockID: nowStockId , username:parm1}, function (JSON) {
//						alert("add remind! "+JSON.remind);
					});
					var tb =  document.getElementById("dataTables-example");

					var rowNum=tb.rows.length;

					window.location.reload();
//					for (var i=0;i<rowNum-1;i++)
//					{
//						tb.deleteRow(1);
////						alert("delete one!");
//					}
//					setTimeout("initTable()", 3000);


				};
			}


		});





		$.getJSON("stockData",{id: stockid}, function (JSON) {
//					   alert("in test");

					$.each(JSON, function (idx, item) {
						var SeachDay = [];
//						   dateList[idx] = "\'" + item.date + "\'";
						SdateList[idx] = item.date;

						SeachDay[0] = item.openprice;
						SeachDay[1] = item.closeprice;
						SeachDay[2] = item.low;
						SeachDay[3] = item.high;
						SvolList[idx]=item.vol;
						Svalues[idx] = SeachDay;
					});



					var tempDP=nowStockId.substring(0,2);
					if(tempDP=="sh"){
						tempDP="sh000001";
					}
					if(tempDP=="sz"){
						tempDP="sz399001";
					}

					//和大盘数据的对比准备

					$.getJSON("compare", {stockID: nowStockId},function (JSON) {
						$.each(JSON, function (idx, item) {
							CDate[idx]=item.date;
							CDP[idx]=item.market;
							CS[idx]=item.stock;
						});


//						alert("大盘点数列表 "+Ddian);



						//下面是个股和大盘信息的对比
						var myChart = echarts.init(document.getElementById('withDaPan'));

						option = {
							title: {
								text: '该股和大盘走势的比较'
							},
							tooltip: {
								trigger: 'axis'
							},
							legend: {
								data:['大盘点数','该股价格'],
							},
							dataZoom: [
								{
									show: true,
									realtime: true,
									start: 50,
									end: 100,
								},
								{
									type: 'inside',
									realtime: true,
									start: 50,
									end: 100,
								}
							],
							toolbox: {},
							xAxis: {
								type: 'category',
								boundaryGap: false,
								data: CDate,
							},
							yAxis: [{
								type: 'value',
								scale:true,

								name: "大盘点数",
								axisLabel: {
									formatter: '{value}'
								}
							},
								{
									type: 'value',
									scale:true,

									name: "该股价格",
									axisLabel: {
										formatter: '{value}'
									}
								}
							],
							series: [
								{
									name: '大盘点数',
									type: 'line',
									data: CDP

								},
								{
									name: '该股价格',
									type: 'line',
									yAxisIndex: 1,
									data: CS
								}
							]
						};
						myChart.setOption(option);

//                  个股和大盘信息对比完成

					});



//                  下面是K线图


					var myChart = echarts.init(document.getElementById('K'));
//					myChart.clear();

					// 数据意义：开盘(open)，收盘(close)，最低(lowest)，最高(highest)

					function calculateMA(dayCount) {
						var result = [];
						for (var i = 0, len = Svalues.length; i < len; i++) {
							if (i < dayCount) {
								result.push('-');
								continue;
							}
							var sum = 0;
							for (var j = 0; j < dayCount; j++) {
								sum += Svalues[i - j][1];
							}
							result.push(sum / dayCount);
						}
						return result;
					}


					option = {
						title: {},
						tooltip: {
							trigger: 'axis',
							axisPointer: {
								type: 'line'
							}
						},
						legend: {
							data: ['日K', 'MA5', 'MA10', 'MA20', 'MA30','成交量(万笔)'],
							x:'center'
						},
						grid: [{
							top: '10%',
							left: '10%',
							right: '10%',
							bottom: '45%'
						},
							{
								height:'130px',
								left: '10%',
								right: '10%',
								bottom: '15%'
							}
						],
						xAxis: [{
							type: 'category',
							data: SdateList,
							scale: true,
							boundaryGap: false,
							axisLine: {onZero: false},
							splitLine: {show: false},
							splitNumber: 20,
							min: 'dataMin',
							max: 'dataMax'
						},
							{
								gridIndex: 1,
								type: 'category',
								data: SdateList,
								scale: true,
								boundaryGap: false,
								axisLine: {onZero: false},
								splitLine: {show: false},
								splitNumber: 20,
								min: 'dataMin',
								max: 'dataMax',
								position: 'bottom',
								show:false
							}
						],
						yAxis: [{
							scale: true,
							splitArea: {
								show: true
							}
						},
							{
								gridIndex: 1,
								scale: true,
								splitArea: {
									show: true
								}
							}
						],
						dataZoom: [
							{
								type: 'inside',
								start: 50,
								end: 100,
								xAxisIndex: [0, 1]
							},
							{
								show: true,
								type: 'slider',
								y: '90%',
								start: 50,
								end: 100,
								xAxisIndex: [0, 1]
							}
						],
						series: [
							{
								name: '日K',
								type: 'candlestick',
								data: Svalues,
								markPoint: {
									label: {
										normal: {
											formatter: function (param) {
												return param != null ? Math.round(param.value) : '';
											}
										}
									},
									data: [
										{
											name: 'highest value',
											type: 'max',
											valueDim: 'highest'
										},
										{
											name: 'lowest value',
											type: 'min',
											valueDim: 'lowest'
										},
										{
											name: 'average value on close',
											type: 'average',
											valueDim: 'close'
										}
									],
									tooltip: {
										formatter: function (param) {
											return param.name + '<br>' + (param.data.coord || '');
										}
									}
								},
								markLine: {
									symbol: ['none', 'none'],
									data: [
										[
											{
												name: 'from lowest to highest',
												type: 'min',
												valueDim: 'lowest',
												symbol: 'circle',
												symbolSize: 10,
												label: {
													normal: {show: false},
													emphasis: {show: false}
												}
											},
											{
												type: 'max',
												valueDim: 'highest',
												symbol: 'circle',
												symbolSize: 10,
												label: {
													normal: {show: false},
													emphasis: {show: false}
												}
											}
										],
										{
											name: 'min line on close',
											type: 'min',
											valueDim: 'close'
										},
										{
											name: 'max line on close',
											type: 'max',
											valueDim: 'close'
										}
									]
								}
							},
							{
								name: 'MA5',
								type: 'line',
								data: calculateMA(5),
								smooth: true,
								lineStyle: {
									normal: {opacity: 0.5}
								}
							},
							{
								name: 'MA10',
								type: 'line',
								data: calculateMA(10),
								smooth: true,
								lineStyle: {
									normal: {opacity: 0.5}
								}
							},
							{
								name: 'MA20',
								type: 'line',
								data: calculateMA(20),
								smooth: true,
								lineStyle: {
									normal: {opacity: 0.5}
								}
							},
							{
								name: 'MA30',
								type: 'line',
								data: calculateMA(30),
								smooth: true,
								lineStyle: {
									normal: {opacity: 0.5}
								}
							},
							{   name:'成交量(万笔)',
								type:'bar',
								itemStyle:{
									normal:{color: '#c23531'}
								},
								xAxisIndex: 1,
								yAxisIndex: 1,
								symbolSize: 8,
								hoverAnimation: true,
								data:SvolList

							}
						]
					};

					// 使用刚指定的配置项和数据显示图表。
					myChart.setOption(option);



					var radarData=[];
					var report;
					$.getJSON("score", {id:stockid},function (JSON) {
						radarData[0]=JSON.benefit;
						radarData[1]=JSON.market;
						radarData[2]=JSON.prospect;
						radarData[3]=JSON.consistency;
						radarData[4]=JSON.risk;
						report=JSON.report;

						var stockreport = document.getElementById("stockText");
						stockreport.innerHTML=report;





						var myChart = echarts.init(document.getElementById('radaaar'));
						option = {
							title: {
								text: 'Luckers评分'
							},
							tooltip: {},
							legend: {
								data:[]
							},
							radar: {
								shape: 'circle',
								indicator: [
									{ name: '盈利性', max: 5},
									{ name: '市场性', max: 5},
									{ name: '前景性', max: 5},
									{ name: '稳定性', max: 5},
									{ name: '安全性', max: 5}
								],
								nameGap:5,
								radius: 100,
								center: ['50%','60%'],


							},
							series: [{
								name: '',
								type: 'radar',
								itemStyle: {normal: {areaStyle: {type: 'default'}}},

								data : [

									{
										value : radarData,
										label: {
											normal: {
												show: true,
												textStyle:{
													color:'#232323',
													fontWeight:'bolder',
													fontSize:14
												}
											}
										}
									}
								]
							}]
						};
						// 使用刚指定的配置项和数据显示图表。
						myChart.setOption(option);
					});
				}
		);


		news();
		document.getElementById("anchor_scroll").click();


	}
</script>
	   <script>
		   function dayK(){
//			   alert("getDay!")
			   var SdateList=[];
			   var SvolList=[];
			   var Svalues=[];
			   $.getJSON("stockData",{id: nowStockId}, function (JSON) {

				   $.each(JSON, function (idx, item) {
					   var SeachDay = [];
					   SdateList[idx] = item.date;
					   SeachDay[0] = item.openprice;
					   SeachDay[1] = item.closeprice;
					   SeachDay[2] = item.low;
					   SeachDay[3] = item.high;
					   SvolList[idx]=item.vol;
					   Svalues[idx] = SeachDay;
				   });


				   var myChart = echarts.init(document.getElementById('K'));

				   // 数据意义：开盘(open)，收盘(close)，最低(lowest)，最高(highest)

				   function calculateMA(dayCount) {
					   var result = [];
					   for (var i = 0, len = Svalues.length; i < len; i++) {
						   if (i < dayCount) {
							   result.push('-');
							   continue;
						   }
						   var sum = 0;
						   for (var j = 0; j < dayCount; j++) {
							   sum += Svalues[i - j][1];
						   }
						   result.push(sum / dayCount);
					   }
					   return result;
				   }


				   option = {
					   title: {},
					   tooltip: {
						   trigger: 'axis',
						   axisPointer: {
							   type: 'line'
						   }
					   },
					   legend: {
						   data: ['日K', 'MA5', 'MA10', 'MA20', 'MA30','成交量(万笔)'],
						   x:'center'
					   },
					   grid: [{
						   top: '10%',
						   left: '10%',
						   right: '10%',
						   bottom: '45%'
					   },
						   {
							   height:'130px',
							   left: '10%',
							   right: '10%',
							   bottom: '15%'
						   }
					   ],
					   xAxis: [{
						   type: 'category',
						   data: SdateList,
						   scale: true,
						   boundaryGap: false,
						   axisLine: {onZero: false},
						   splitLine: {show: false},
						   splitNumber: 20,
						   min: 'dataMin',
						   max: 'dataMax'
					   },
						   {
							   gridIndex: 1,
							   type: 'category',
							   data: SdateList,
							   scale: true,
							   boundaryGap: false,
							   axisLine: {onZero: false},
							   splitLine: {show: false},
							   splitNumber: 20,
							   min: 'dataMin',
							   max: 'dataMax',
							   position: 'bottom',
							   show:false

						   }
					   ],
					   yAxis: [{
						   scale: true,
						   splitArea: {
							   show: true
						   }
					   },
						   {
							   gridIndex: 1,
							   scale: true,
							   splitArea: {
								   show: true
							   }
						   }
					   ],
					   dataZoom: [
						   {
							   type: 'inside',
							   start: 50,
							   end: 100,
							   xAxisIndex: [0, 1]
						   },
						   {
							   show: true,
							   type: 'slider',
							   y: '90%',
							   start: 50,
							   end: 100,
							   xAxisIndex: [0, 1]
						   }
					   ],
					   series: [
						   {
							   name: '日K',
							   type: 'candlestick',
							   data: Svalues,
							   markPoint: {
								   label: {
									   normal: {
										   formatter: function (param) {
											   return param != null ? Math.round(param.value) : '';
										   }
									   }
								   },
								   data: [
									   {
										   name: 'highest value',
										   type: 'max',
										   valueDim: 'highest'
									   },
									   {
										   name: 'lowest value',
										   type: 'min',
										   valueDim: 'lowest'
									   },
									   {
										   name: 'average value on close',
										   type: 'average',
										   valueDim: 'close'
									   }
								   ],
								   tooltip: {
									   formatter: function (param) {
										   return param.name + '<br>' + (param.data.coord || '');
									   }
								   }
							   },
							   markLine: {
								   symbol: ['none', 'none'],
								   data: [
									   [
										   {
											   name: 'from lowest to highest',
											   type: 'min',
											   valueDim: 'lowest',
											   symbol: 'circle',
											   symbolSize: 10,
											   label: {
												   normal: {show: false},
												   emphasis: {show: false}
											   }
										   },
										   {
											   type: 'max',
											   valueDim: 'highest',
											   symbol: 'circle',
											   symbolSize: 10,
											   label: {
												   normal: {show: false},
												   emphasis: {show: false}
											   }
										   }
									   ],
									   {
										   name: 'min line on close',
										   type: 'min',
										   valueDim: 'close'
									   },
									   {
										   name: 'max line on close',
										   type: 'max',
										   valueDim: 'close'
									   }
								   ]
							   }
						   },
						   {
							   name: 'MA5',
							   type: 'line',
							   data: calculateMA(5),
							   smooth: true,
							   lineStyle: {
								   normal: {opacity: 0.5}
							   }
						   },
						   {
							   name: 'MA10',
							   type: 'line',
							   data: calculateMA(10),
							   smooth: true,
							   lineStyle: {
								   normal: {opacity: 0.5}
							   }
						   },
						   {
							   name: 'MA20',
							   type: 'line',
							   data: calculateMA(20),
							   smooth: true,
							   lineStyle: {
								   normal: {opacity: 0.5}
							   }
						   },
						   {
							   name: 'MA30',
							   type: 'line',
							   data: calculateMA(30),
							   smooth: true,
							   lineStyle: {
								   normal: {opacity: 0.5}
							   }
						   },
						   {   name:'成交量(万笔)',
							   type:'bar',
							   itemStyle:{
								   normal:{color: '#c23531'}
							   },
							   xAxisIndex: 1,
							   yAxisIndex: 1,
							   symbolSize: 8,
							   hoverAnimation: true,
							   data:SvolList,
							   markPoint : {
								   data : [
									   {type : 'max', name: '最大值'},
									   {type : 'min', name: '最小值'}
								   ]
							   },
							   markLine : {
								   data : [
									   {type : 'average', name: '平均值'}
								   ]
							   }

						   }
					   ]
				   };

				   // 使用刚指定的配置项和数据显示图表。
				   myChart.setOption(option);

			   });



//			   news();

		   }

		   function weekK(){
//			   alert("getWeek!")
			   var SdateList=[];
			   var SvolList=[];
			   var Svalues=[];
			   $.getJSON("weekData",{id: nowStockId}, function (JSON) {
//					   alert("in test");

						   $.each(JSON, function (idx, item) {
							   var SeachDay = [];
//						   dateList[idx] = "\'" + item.date + "\'";
							   SdateList[idx] = item.date;
							   SeachDay[0] = item.openprice;
							   SeachDay[1] = item.closeprice;
							   SeachDay[2] = item.low;
							   SeachDay[3] = item.high;
							   SvolList[idx]=item.vol;
							   Svalues[idx] = SeachDay;
//							   alert("finish one day!");
						   });

//					   alert(Svalues[0]);
//					   alert(values[1]);

						   //		   alert(wholeData[0]);
//					   alert("start in it");
						   //           initData();
						   //alert("start to K")
						   var myChart = echarts.init(document.getElementById('K'));
//					myChart.clear();

						   // 数据意义：开盘(open)，收盘(close)，最低(lowest)，最高(highest)

						   function calculateMA(dayCount) {
							   var result = [];
							   for (var i = 0, len = Svalues.length; i < len; i++) {
								   if (i < dayCount) {
									   result.push('-');
									   continue;
								   }
								   var sum = 0;
								   for (var j = 0; j < dayCount; j++) {
									   sum += Svalues[i - j][1];
								   }
								   result.push(sum / dayCount);
							   }
							   return result;
						   }


						   option = {
							   title: {},
							   tooltip: {
								   trigger: 'axis',
								   axisPointer: {
									   type: 'line'
								   }
							   },
							   legend: {
								   data: ['周K', 'MA5', 'MA10', 'MA20', 'MA30','成交量(万笔)'],
								   x:'center'
							   },
							   grid: [{
								   top: '10%',
								   left: '10%',
								   right: '10%',
								   bottom: '45%'
							   },
								   {
									   height:'130px',
									   left: '10%',
									   right: '10%',
									   bottom: '15%'
								   }
							   ],
							   xAxis: [{
								   type: 'category',
								   data: SdateList,
								   scale: true,
								   boundaryGap: false,
								   axisLine: {onZero: false},
								   splitLine: {show: false},
								   splitNumber: 20,
								   min: 'dataMin',
								   max: 'dataMax'
							   },
								   {
									   gridIndex: 1,
									   type: 'category',
									   data: SdateList,
									   scale: true,
									   boundaryGap: false,
									   axisLine: {onZero: false},
									   splitLine: {show: false},
									   splitNumber: 20,
									   min: 'dataMin',
									   max: 'dataMax',
									   position: 'bottom',
									   show:false

								   }
							   ],
							   yAxis: [{
								   scale: true,
								   splitArea: {
									   show: true
								   }
							   },
								   {
									   gridIndex: 1,
									   scale: true,
									   splitArea: {
										   show: true
									   }
								   }
							   ],
							   dataZoom: [
								   {
									   type: 'inside',
									   start: 50,
									   end: 100,
									   xAxisIndex: [0, 1]
								   },
								   {
									   show: true,
									   type: 'slider',
									   y: '90%',
									   start: 50,
									   end: 100,
									   xAxisIndex: [0, 1]
								   }
							   ],
							   series: [
								   {
									   name: '周K',
									   type: 'candlestick',
									   data: Svalues,
									   markPoint: {
										   label: {
											   normal: {
												   formatter: function (param) {
													   return param != null ? Math.round(param.value) : '';
												   }
											   }
										   },
										   data: [
											   {
												   name: 'highest value',
												   type: 'max',
												   valueDim: 'highest'
											   },
											   {
												   name: 'lowest value',
												   type: 'min',
												   valueDim: 'lowest'
											   },
											   {
												   name: 'average value on close',
												   type: 'average',
												   valueDim: 'close'
											   }
										   ],
										   tooltip: {
											   formatter: function (param) {
												   return param.name + '<br>' + (param.data.coord || '');
											   }
										   }
									   },
									   markLine: {
										   symbol: ['none', 'none'],
										   data: [
											   [
												   {
													   name: 'from lowest to highest',
													   type: 'min',
													   valueDim: 'lowest',
													   symbol: 'circle',
													   symbolSize: 10,
													   label: {
														   normal: {show: false},
														   emphasis: {show: false}
													   }
												   },
												   {
													   type: 'max',
													   valueDim: 'highest',
													   symbol: 'circle',
													   symbolSize: 10,
													   label: {
														   normal: {show: false},
														   emphasis: {show: false}
													   }
												   }
											   ],
											   {
												   name: 'min line on close',
												   type: 'min',
												   valueDim: 'close'
											   },
											   {
												   name: 'max line on close',
												   type: 'max',
												   valueDim: 'close'
											   }
										   ]
									   }
								   },
								   {
									   name: 'MA5',
									   type: 'line',
									   data: calculateMA(5),
									   smooth: true,
									   lineStyle: {
										   normal: {opacity: 0.5}
									   }
								   },
								   {
									   name: 'MA10',
									   type: 'line',
									   data: calculateMA(10),
									   smooth: true,
									   lineStyle: {
										   normal: {opacity: 0.5}
									   }
								   },
								   {
									   name: 'MA20',
									   type: 'line',
									   data: calculateMA(20),
									   smooth: true,
									   lineStyle: {
										   normal: {opacity: 0.5}
									   }
								   },
								   {
									   name: 'MA30',
									   type: 'line',
									   data: calculateMA(30),
									   smooth: true,
									   lineStyle: {
										   normal: {opacity: 0.5}
									   }
								   },
								   {   name:'成交量(万笔)',
									   type:'bar',
									   itemStyle:{
										   normal:{color: '#c23531'}
									   },
									   xAxisIndex: 1,
									   yAxisIndex: 1,
									   symbolSize: 8,
									   hoverAnimation: true,
									   data:SvolList,
									   markPoint : {
										   data : [
											   {type : 'max', name: '最大值'},
											   {type : 'min', name: '最小值'}
										   ]
									   },
									   markLine : {
										   data : [
											   {type : 'average', name: '平均值'}
										   ]
									   }

								   }
							   ]
						   };

						   // 使用刚指定的配置项和数据显示图表。
						   myChart.setOption(option);

					   });



		   }

		   function monthK(){

			   var SdateList=[];
			   var SvolList=[];
			   var Svalues=[];
//			   alert("getMonth!")
			   $.getJSON("monthData",{id: nowStockId}, function (JSON) {
//					   alert("in test");

				   $.each(JSON, function (idx, item) {
					   var SeachDay = [];
//						   dateList[idx] = "\'" + item.date + "\'";
					   SdateList[idx] = item.date;
					   SeachDay[0] = item.openprice;
					   SeachDay[1] = item.closeprice;
					   SeachDay[2] = item.low;
					   SeachDay[3] = item.high;
					   SvolList[idx]=item.vol;
					   Svalues[idx] = SeachDay;
//					   alert("finish one month!");
				   });

//					   alert(Svalues[0]);
//					   alert(values[1]);

				   //		   alert(wholeData[0]);
//					   alert("start in it");
				   //           initData();
				   //alert("start to K")
				   var myChart = echarts.init(document.getElementById('K'));
//					myChart.clear();

				   // 数据意义：开盘(open)，收盘(close)，最低(lowest)，最高(highest)

				   function calculateMA(dayCount) {
					   var result = [];
					   for (var i = 0, len = Svalues.length; i < len; i++) {
						   if (i < dayCount) {
							   result.push('-');
							   continue;
						   }
						   var sum = 0;
						   for (var j = 0; j < dayCount; j++) {
							   sum += Svalues[i - j][1];
						   }
						   result.push(sum / dayCount);
					   }
					   return result;
				   }


				   option = {
					   title: {},
					   tooltip: {
						   trigger: 'axis',
						   axisPointer: {
							   type: 'line'
						   }
					   },
					   legend: {
						   data: ['月K', 'MA5', 'MA10', 'MA20', 'MA30','成交量(万笔)'],
						   x:'center'
					   },
					   grid: [{
						   top: '10%',
						   left: '10%',
						   right: '10%',
						   bottom: '45%'
					   },
						   {
							   height:'130px',
							   left: '10%',
							   right: '10%',
							   bottom: '15%'
						   }
					   ],
					   xAxis: [{
						   type: 'category',
						   data: SdateList,
						   scale: true,
						   boundaryGap: false,
						   axisLine: {onZero: false},
						   splitLine: {show: false},
						   splitNumber: 20,
						   min: 'dataMin',
						   max: 'dataMax'
					   },
						   {
							   gridIndex: 1,
							   type: 'category',
							   data: SdateList,
							   scale: true,
							   boundaryGap: false,
							   axisLine: {onZero: false},
							   splitLine: {show: false},
							   splitNumber: 20,
							   min: 'dataMin',
							   max: 'dataMax',
							   position: 'bottom',
							   show:false
						   }
					   ],
					   yAxis: [{
						   scale: true,
						   splitArea: {
							   show: true
						   }
					   },
						   {
							   gridIndex: 1,
							   scale: true,
							   splitArea: {
								   show: true
							   }
						   }
					   ],
					   dataZoom: [
						   {
							   type: 'inside',
							   start: 50,
							   end: 100,
							   xAxisIndex: [0, 1]
						   },
						   {
							   show: true,
							   type: 'slider',
							   y: '90%',
							   start: 50,
							   end: 100,
							   xAxisIndex: [0, 1]
						   }
					   ],
					   series: [
						   {
							   name: '月K',
							   type: 'candlestick',
							   data: Svalues,
							   markPoint: {
								   label: {
									   normal: {
										   formatter: function (param) {
											   return param != null ? Math.round(param.value) : '';
										   }
									   }
								   },
								   data: [
									   {
										   name: 'highest value',
										   type: 'max',
										   valueDim: 'highest'
									   },
									   {
										   name: 'lowest value',
										   type: 'min',
										   valueDim: 'lowest'
									   },
									   {
										   name: 'average value on close',
										   type: 'average',
										   valueDim: 'close'
									   }
								   ],
								   tooltip: {
									   formatter: function (param) {
										   return param.name + '<br>' + (param.data.coord || '');
									   }
								   }
							   },
							   markLine: {
								   symbol: ['none', 'none'],
								   data: [
									   [
										   {
											   name: 'from lowest to highest',
											   type: 'min',
											   valueDim: 'lowest',
											   symbol: 'circle',
											   symbolSize: 10,
											   label: {
												   normal: {show: false},
												   emphasis: {show: false}
											   }
										   },
										   {
											   type: 'max',
											   valueDim: 'highest',
											   symbol: 'circle',
											   symbolSize: 10,
											   label: {
												   normal: {show: false},
												   emphasis: {show: false}
											   }
										   }
									   ],
									   {
										   name: 'min line on close',
										   type: 'min',
										   valueDim: 'close'
									   },
									   {
										   name: 'max line on close',
										   type: 'max',
										   valueDim: 'close'
									   }
								   ]
							   }
						   },
						   {
							   name: 'MA5',
							   type: 'line',
							   data: calculateMA(5),
							   smooth: true,
							   lineStyle: {
								   normal: {opacity: 0.5}
							   }
						   },
						   {
							   name: 'MA10',
							   type: 'line',
							   data: calculateMA(10),
							   smooth: true,
							   lineStyle: {
								   normal: {opacity: 0.5}
							   }
						   },
						   {
							   name: 'MA20',
							   type: 'line',
							   data: calculateMA(20),
							   smooth: true,
							   lineStyle: {
								   normal: {opacity: 0.5}
							   }
						   },
						   {
							   name: 'MA30',
							   type: 'line',
							   data: calculateMA(30),
							   smooth: true,
							   lineStyle: {
								   normal: {opacity: 0.5}
							   }
						   },
						   {   name:'成交量(万笔)',
							   type:'bar',
							   itemStyle:{
								   normal:{color: '#c23531'}
							   },
							   xAxisIndex: 1,
							   yAxisIndex: 1,
							   symbolSize: 8,
							   hoverAnimation: true,
							   data:SvolList

						   }
					   ]
				   };

				   // 使用刚指定的配置项和数据显示图表。
				   myChart.setOption(option);

			   });


		   }
		   </script>


</body>
</html>